kubernetes-dashboard:
  env:
    TZ: America/Los_Angeles
  ## Number of replicas
  replicaCount: 1

  extraArgs:
   - --enable-skip-login
   - --disable-settings-authorizer
   - --enable-insecure-login

  securityContext:
    seccompProfile:
      type: RuntimeDefault
  containerSecurityContext:
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    runAsUser: 1000
    runAsGroup: 2000

  ## Pod resource requests & limits
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
    limits:
      cpu: 2
      memory: 200Mi
  service:
    main:
      enabled: true
      type: LoadBalancer
      externalTrafficPolicy: Local
      externalIPs: ["192.168.50.225"]
  ingress:
    main:
      enabled: true
      ingressClassName: nginx
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod
        hajimari.io/icon: mdi:kubernetes 
        hajimari.io/appName: Dashboard
        hajimari.io/info: Kubernetes dashboard
        nginx.ingress.kubernetes.io/secure-backends: "true" 
      hosts:
        - host: &host k3s.toolstowelsandfroods.com
          http:
            paths:
            - path: /
              backend:
                serviceName: kubernetes-dashboard
                servicePort: 443
       tls:
        - secretName: kubernetes-dashboard-tls-certificate
          hosts:
            - *host

  ## Metrics Scraper
  ## Container to scrape, store, and retrieve a window of time from the Metrics Server.
  ## refs: https://github.com/kubernetes-sigs/dashboard-metrics-scraper
    metricsScraper:
      enabled: true
    serviceMonitor:
      enabled: false
  rbac:
    # Specifies whether namespaced RBAC resources (Role, Rolebinding) should be created
    create: true

    # Specifies whether cluster-wide RBAC resources (ClusterRole, ClusterRolebinding) to access metrics should be created
    # Independent from rbac.create parameter.
    clusterRoleMetrics: true

    # Independent from rbac.create parameter.
    clusterReadOnlyRole: false

  serviceAccount:
    # Specifies whether a service account should be created
    create: true
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: admin-user
    namespace: kubernetes-dashboard
  livenessProbe:
    # Number of seconds to wait before sending first probe
    initialDelaySeconds: 30
    # Number of seconds to wait for probe response
    timeoutSeconds: 30


